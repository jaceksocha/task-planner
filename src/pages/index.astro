---
import Layout from "../layouts/Layout.astro";
import { TaskList } from "../components/TaskList";
import { UserMenu } from "../components/UserMenu";
import { WeeklySummary } from "../components/WeeklySummary";

const user = Astro.locals.user;
---

<Layout title="Task Planner">
  <div class="container mx-auto max-w-4xl px-4 py-8">
    <header class="mb-8 flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold tracking-tight">Task Planner</h1>
        <p class="text-muted-foreground">Manage your tasks efficiently</p>
      </div>
      {user && <UserMenu client:load email={user.email || "User"} />}
    </header>

    <main class="space-y-8">
      <WeeklySummary client:load />
      <TaskList client:load />
    </main>
  </div>
</Layout>
